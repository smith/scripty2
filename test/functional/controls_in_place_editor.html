<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>script.aculo.us functional tests</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Default theme. -->
  <link type="text/css" title="Default Theme"
   rel="stylesheet" href="../../themes/default/theme.css" />

  <link type="text/css" rel="stylesheet" href="css/test.css" />

  <script src="../../lib/prototype.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../dist/s2.js" type="text/javascript" charset="utf-8"></script>

  <script src="js/switcher.js" type="text/javascript"></script>
  <script>
  var editors = [], saveURL = "fixtures/controls_in_place_editor_result.html";
  </script>
</head>

<body>

  <h1>In Place Editor Tests</h1>

  <h2>Standard In Place Editor</h2>

  <p id="tobeedited">To be edited</p>
  <script>
  editors.unshift(new S2.UI.InPlaceEditor("tobeedited", saveURL));
      // override so we can use a static for the result
      // (this is ok w/ post on my server, but add it on others if it's not
      // ok elsewhere
      // ajaxOptions: { method: "get" }
  </script>

  <div class="description">
    <p>A standard in place editor with all the default options.</p>
    <ul>
      <li>It <strong>should</strong> have a "hover" state.</li>
      <li>It <strong>should</strong> execute the <code>onEnterHover</code> callback when the mouse enters and it is not in edit mode.</li>
      <li>It <strong>should</strong> execute the <code>onLeaveHover</code> callback when the mouse leaves and it is not in edit mode.</li>
      <li>It <strong>should</strong> have a <code>title</code> attribute with the value of the <code>clickToEditText</code> option.</li>
      <li>When clicked, it <strong>should</strong> enter edit mode. The form <strong>should</strong> appear with a text input and "OK" and "Cancel" buttons. The text input should be focused and contain the text that was in the element before edit mode was entered. The text <strong>should</strong> be selected.</li>
      <li>When "Cancel" is clicked, it <strong>should</strong> revert back to its previous state.</li>
      <li>When "OK" is clicked, it <strong>should</strong> leave edit mode and display "Saving&hellip;" until it is updated from the server's response.</li>
      <li>Pressing the <kbd>ESC</kbd> key when the input is focused should have the same effect as clicking "Cancel."</li>
      <li>Pressing the <kbd>ENTER</kbd> key when the input is focused should have the same effect as clicking "OK."</li>
    </ul>
  </div>

  <h2>In Place Editor with Blur</h2>

  <p id="tobeeditedblur">To be edited w/ blur</p>
  <script>
  editors.unshift(new S2.UI.InPlaceEditor("tobeeditedblur", saveURL, {
    submitOnBlur: true,
    controls: []
  }));
  </script>

  <div class="description">
    <p>An in place editor with the <code>submitOnBlur</code> option set to <code>true</code> and no controls.</p>
    <ul>
      <li>It <strong>should</strong> submit when editing and losing focus.</li>
    </ul>
  </div>

  <h2>In Place Editor with OK Link and Cancel Button</h2>

  <p id="tobeeditedoklink">To be edited w/ ok link and cancel button</p>
  <script>
  editors.unshift(new S2.UI.InPlaceEditor("tobeeditedoklink", saveURL, {
    textBeforeControls: "&nbsp;---&gt;&nbsp;",
    textAfterControls: "&nbsp;&lt;---&nbsp;",
    textBetweenControls: "&nbsp;|&nbsp;",
    controls: [
      { type: "link", label: "OK", action: "save" },
      { type: "button", label: "Cancel", action: "cancel" }
    ]
  }));
  </script>

  <div class="description">
    <p>An in place editor with the "OK" control as a link (an <code>A</code> tag), the "Cancel" control as a button, and the <code>textBeforeControls</code>, <code>textAfterControls</code>, and <code>textBetweenControls</code> options set.</p>
    <ul>
      <li>The "OK" control <strong>should</strong> be a link.</li>
      <li>The "Cancel" control <strong>should</strong> be a button.</li>
      <li>The controls <strong>should</strong> display "&nbsp;---&gt;&nbsp;" <em>before</em> them.</li>
      <li>The controls <strong>should</strong> display "&nbsp;&lt;---&nbsp;" <em>after</em> them.</li>
      <li>The controls <strong>should</strong> display "&nbsp;|&nbsp;" <em>between</em> them.</li>
    </ul>
  </div>

  <h2>In Place Editor with OK Link Only</h2>

  <p id="tobeeditedoklinkonly">To be edited w/ ok link only</p>
  <script>
  editors.unshift(new S2.UI.InPlaceEditor("tobeeditedoklinkonly", saveURL, {
    textBetweenControls: "&nbsp;|&nbsp;",
    controls: [ { type: "link", label: "OK", action: "save" } ]
  }));
  </script>

  <div class="description">
    <p>An in place editor with an "OK" link as its only control and the <code>textBetweenControls</code> option set.</p>
    <ul>
      <li>The "OK" control <strong>should</strong> be a link.</li>
      <li>The controls <strong>should not</strong> display "&nbsp;|&nbsp;" <em>between</em> them (since there's only one.)</li>
    </ul>
  </div>

  <h2>In Place Editor with External Edit Control and Custom Parameter Name</h2>

  <span id="tobeedited2">With external edit control and custom parameter name</span> &nbsp; <a id="tobeedited2EditControl" href="#">edit</a>
  <script>
  editors.unshift(new S2.UI.InPlaceEditor("tobeedited2", saveURL, {
    externalControl: "tobeedited2EditControl",
    paramName: "foobar"
  }));
  </script>

  <div class="description">
    <p>An in place editor with an <code>externalControl</code> and the <code>paramName</code> option set to <code>"foobar"</code>.</p>
    <ul>
      <li>The "edit" link <strong>should</strong> enter edit mode.</li>
      <li>The "edit" link <strong>should</strong> disappear when clicked.</li>
      <li>The "edit" link <strong>should</strong> reappear when exiting edit mode.</li>
      <li>The POST parameter name <strong>should</strong> be <code>foobar</code> and <em>not</em> <code>value</code>.</li>
    </ul>
  </div>

  <h2>In Place Editor in a Table Cell</h2>

  <table>
    <tbody>
      <tr>
        <td><span id="tobeeditedtd">test</span></td>
        <td><a id="tobeeditedTDEditControl" href="#">edit</a></td>
      </tr>
    </tbody>
  </table>
  <script>
  editors.unshift(new S2.UI.InPlaceEditor("tobeeditedtd", saveURL, {
    externalControl: "tobeeditedTDEditControl"
  }));
  </script>

  <h2>Multi-row In Place Editor</h2>

  <p id="tobeedited3">Multi row editor: Lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum lorum ipsum</p>
  <script>
  editors.unshift(new S2.UI.InPlaceEditor("tobeedited3", saveURL, {
    rows: 5
  }));
  </script>

  <div class="description">
    <p>An in place editor with the <code>rows</code> option set to <code>5</code>.</p>
    <ul>
      <li>The edit input <strong>should</strong> be a textarea with 5 rows.</li>
    </ul>
  </div>

  <h2>In Place Editor with Text from Server</h2>

  <p id="tobeedited4">Loads text from server</p>
  <script>
  editors.unshift(new S2.UI.InPlaceEditor("tobeedited4", saveURL, {
    loadTextURL: "fixtures/controls_in_place_editor_text.html"
  }));
  </script>

  <div class="description">
    <p>An in place editor with the <code>loadExternalText</code> option set.</p>
    <ul>
      <li>When entering edit mode, the field should be disabled and display "Loading&hellip;" until the text is loaded from the server. It should then focus and select the text as usual.</li>
    </ul>
  </div>
<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/> <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>

  <h2>In Place Editor Very Far Down to Test Scrolling Bug</h2>

  <p id="tobeeditedfardown">Editor very far down to test scrolling bug</p>
  <script>
  editors.unshift(new S2.UI.InPlaceEditor("tobeeditedfardown", saveURL));
  </script>
</body>
</html>
